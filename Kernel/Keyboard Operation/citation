Code is pulled adapted from https://github.com/littleosbook/aenix
