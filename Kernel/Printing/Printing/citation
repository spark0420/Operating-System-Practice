Code is pulled and adapted from https://github.com/littleosbook/aenix
